<div class="flex flex-col bg-base-300 overflow-hidden">
  <ng-container *ngIf="transcript() as t">
    <div class="flex flex-row items-center gap-6 px-3 sm:px-6">
      <button class="hidden sm:block btn btn-small rounded-full" [routerLink]="['..']">
        <ng-icon name="heroArrowLeft"></ng-icon>
      </button>
      <app-editable-string
        [group]="transcriptGroup"
        controlName="title"
        classList="text-xl text-bold"
      ></app-editable-string>
    </div>
    <div class="flex flex-col items-start sm:flex-row justify-start mb-3 sm:mb-6 px-3">
      <div class="flex flex-row gap-3 sm:gap-0 sm:flex-col px-3 py-1">
          <p class="whitespace-nowrap">
            Recorded <span>{{ t.start | timeago }}</span>
          </p>
          <p class="whitespace-nowrap" *ngIf="t.end">
            Duration <span>{{ t.start | duration: t.end }}</span>
          </p>
      </div>
      <p class="flex self-stretch basis-full">
        <app-editable-string
          [group]="transcriptGroup"
          controlName="description"
          type="textarea"
          classList="text-sm"
        ></app-editable-string>
      </p>
    </div>
    
    <div class="flex flex-col gap-3 overflow-y-auto pr-3 bg-base-100">
      <div *ngFor="let s of segments()" class="flex flex-col sm:flex-row sm:gap-2">
        <p class="flex basis-full px-3 sm:px-6">
          {{ s.text }}
        </p>
        <div class="flex basis-auto flex-row items-center justify-end gap-1 text-xs">
          <div class="flex whitespace-nowrap">{{ t.start | duration: s.start }}</div>
          <ng-icon name="heroArrowLongRight"></ng-icon>
          <div class="flex whitespace-nowrap">{{ t.start | duration: s.end }}</div>
        </div>
      </div>
    </div>
  </ng-container>
  
</div>
