<button class="btn btn-primary w-64" (click)="loginModal.showModal()">Email and Password</button>
<dialog #loginModal class="modal modal-bottom sm:modal-middle">
  <div class="modal-box bg-secondary-content relative">
    <button class="btn btn-circle absolute top-3 right-3" (click)="loginModal.close()">
      <ng-icon name="heroXMark"></ng-icon>
    </button>
    <form class="flex flex-col p-6 gap-3" [formGroup]="formGroup" (submit)="submit()">
      <div class="form-control">
        <label class="label">
          <span class="label-text">Email</span>
        </label>
        <input type="text" class="input input-bordered input-lg" formControlName="email">
        <label class="label no-height">
          <span class="label-alt-text text-error text-xs" *ngIf="formGroup.controls['email'].hasError('required') && formGroup.touched">Required</span>
          <span class="label-alt-text text-error text-xs" *ngIf="formGroup.controls['email'].hasError('email') && formGroup.touched">Invalid Email</span>
        </label>
      </div>
    
      <div class="form-control">
        <label class="label">
          <span class="label-text">Password</span>
        </label>
        <input type="password" class="input input-bordered input-lg" formControlName="password">
        <label class="label no-height">
          <span class="label-alt-text text-error text-xs" *ngIf="formGroup.controls['password'].hasError('required') && formGroup.touched">Required</span>
          <div class="label-alt-text text-error text-xs" *ngIf="error() as msg">{{msg}}</div>
        </label>
      </div>

      <div class="form-control" *ngIf="isSignUp()">
        <label class="label">
          <span class="label-text">Password</span>
        </label>
        <input type="password" class="input input-bordered input-lg" formControlName="verify">
        <label class="label no-height">
          <span class="label-alt-text text-error text-xs" *ngIf="formGroup.controls['verify'].hasError('required') && formGroup.touched">Required</span>
          <span class="label-alt-text text-error text-xs" *ngIf="formGroup.controls['verify'].hasError('invalid') && formGroup.touched">Passwords must match</span>
          <div class="label-alt-text text-error text-xs" *ngIf="error() as msg">{{msg}}</div>
        </label>
      </div>
    
      <div class="flex flex-row basis-full items-end justify-end gap-3">
        <button class="btn btn-primary" type="submit">
          <span *ngIf="isSignUp()">Sign Up</span>
          <span *ngIf="!isSignUp()">Login</span>
        </button>
      </div>
    </form>
    <div class="text-xs italic text-center cursor-pointer" (click)="toggleSignup()">
      <a *ngIf="!isSignUp()">Don't have an account? Click here to create one.</a>
      <a *ngIf="isSignUp()">Already have an account? Click here to log in.</a>
    </div>
  </div>
</dialog>
