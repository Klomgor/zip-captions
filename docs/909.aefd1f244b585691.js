"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[909],{3666:($,d,a)=>{a.r(d),a.d(d,{SettingsModule:()=>F});var i=a(4755),s=a(9401),u=a(103),T=a(5543),m=a(5855),h=a(8784),v=a(7579),x=a(4004),g=a(2722),b=a(4056),f=a(8783),c=a(4133),S=a(8603),e=a(2223),l=a(9129),Z=a(4367);function C(t,r){if(1&t&&(e.TgZ(0,"option",4),e._uU(1),e.ALo(2,"proper"),e.ALo(3,"translate"),e.qZA()),2&t){const o=r.$implicit;e.Q6J("value",o.value),e.xp6(1),e.Oqu(e.lcZ(2,2,e.lcZ(3,4,"THEMES."+o.key)))}}let L=(()=>{class t{constructor(){this.themes=c.SJ}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-theme-selector"]],inputs:{group:"group",controlName:"controlName"},decls:6,vars:5,consts:[[1,"form-control",3,"formGroup"],["translate","",1,"text-accent","label"],[1,"select","select-lg","mt-1","w-full",3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(o,n){1&o&&(e.TgZ(0,"label",0)(1,"span",1),e._uU(2,"LABELS.theme"),e.qZA(),e.TgZ(3,"select",2),e.YNc(4,C,4,6,"option",3),e.ALo(5,"keyvalue"),e.qZA()()),2&o&&(e.Q6J("formGroup",n.group),e.xp6(3),e.Q6J("formControlName",n.controlName),e.xp6(1),e.Q6J("ngForOf",e.lcZ(5,3,n.themes)))},dependencies:[i.sg,s.YN,s.Kr,s.EJ,s.JJ,s.JL,s.sg,s.u,l.Pi,i.Nd,Z.w,l.X$]}),t})();function N(t,r){if(1&t&&(e.TgZ(0,"option",4),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t){const o=r.$implicit;e.Q6J("value",o),e.xp6(1),e.Oqu(e.lcZ(2,2,"LANGUAGES."+o))}}let A=(()=>{class t{constructor(){this.languages=c.D}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-language-selector"]],inputs:{group:"group",controlName:"controlName"},decls:5,vars:3,consts:[[1,"form-control",3,"formGroup"],["translate","",1,"text-accent","label"],[1,"select","select-lg","mt-1","w-full",3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(o,n){1&o&&(e.TgZ(0,"label",0)(1,"span",1),e._uU(2,"LABELS.lang"),e.qZA(),e.TgZ(3,"select",2),e.YNc(4,N,3,4,"option",3),e.qZA()()),2&o&&(e.Q6J("formGroup",n.group),e.xp6(3),e.Q6J("formControlName",n.controlName),e.xp6(1),e.Q6J("ngForOf",n.languages))},dependencies:[i.sg,s.YN,s.Kr,s.EJ,s.JJ,s.JL,s.sg,s.u,l.Pi,l.X$]}),t})();var k=a(8675);function y(t,r){1&t&&(e.TgZ(0,"span",6),e._uU(1,"LABELS.wakelockOn"),e.qZA())}function J(t,r){1&t&&(e.TgZ(0,"span",6),e._uU(1,"LABELS.wakelockOff"),e.qZA())}let E=(()=>{class t{constructor(){this.isEnabled=(0,e.tdS)(!0),this.onDestroy$=new v.x}ngOnInit(){const o=this.group.get(this.controlName);o.valueChanges.pipe((0,g.R)(this.onDestroy$),(0,k.O)(o.value)).subscribe(n=>this.isEnabled.set(n))}ngOnDestroy(){this.onDestroy$.next()}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-wake-lock-enabled"]],inputs:{group:"group",controlName:"controlName"},decls:8,vars:4,consts:[[1,"form-control",3,"formGroup"],["translate","",1,"text-accent","label"],[1,"cursor-pointer","label","bg-base-100","rounded-lg","ps-5","pe-3","py-4"],["class","label-text me-2","translate","",4,"ngIf","ngIfElse"],["isDisabledLabel",""],["type","checkbox",1,"checkbox","checkbox-primary",3,"formControlName"],["translate","",1,"label-text","me-2"]],template:function(o,n){if(1&o&&(e.TgZ(0,"label",0)(1,"span",1),e._uU(2,"LABELS.wakelock"),e.qZA(),e.TgZ(3,"label",2),e.YNc(4,y,2,0,"span",3),e.YNc(5,J,2,0,"ng-template",null,4,e.W1O),e._UZ(7,"input",5),e.qZA()()),2&o){const p=e.MAs(6);e.Q6J("formGroup",n.group),e.xp6(4),e.Q6J("ngIf",n.isEnabled())("ngIfElse",p),e.xp6(3),e.Q6J("formControlName",n.controlName)}},dependencies:[i.O5,s.Wl,s.JJ,s.JL,s.sg,s.u,l.Pi]}),t})();function G(t,r){1&t&&(e.TgZ(0,"div",17),e._uU(1,"You must accept cookies in order to save settings."),e.qZA())}const U=[{path:"",component:(()=>{class t{constructor(o,n,p,Y,I,B){this.fb=o,this.store=n,this.renderer=p,this.el=Y,this.router=I,this.translate=B,this.onDestroy$=new v.x,this.currentTheme=(0,m.O4)(this.store.select(f.FS)),this.language=(0,m.O4)(this.store.select(f.BX)),this.wakeLockEnabled=(0,m.O4)(this.store.select(f.VL)),this.formGroup=this.fb.group({theme:this.fb.control(this.currentTheme()),lang:this.fb.control(this.language()),wakelock:this.fb.control(this.wakeLockEnabled())}),this.acceptedCookies=(0,m.O4)(this.store.pipe((0,h.Ys)(S.hp),(0,x.U)(D=>D.cookiesAccepted)))}ngOnInit(){this.acceptedCookies()&&this.store.dispatch(b.q.hideFooter()),this.formGroup.get("theme")?.valueChanges.pipe((0,g.R)(this.onDestroy$)).subscribe(o=>{o&&this.renderer.setAttribute(this.el.nativeElement,"data-theme",o)}),this.formGroup.get("lang")?.valueChanges.pipe((0,g.R)(this.onDestroy$)).subscribe(o=>{o&&this.translate.use(o).subscribe(()=>{})})}ngOnDestroy(){this.formGroup.dirty&&this.translate.use(this.language()),this.store.dispatch(b.q.showFooter()),this.onDestroy$.next()}saveSettings(){const o=this.formGroup.get("theme").value;this.store.dispatch(c.Vp.setTheme({theme:o}));const n=this.formGroup.get("lang").value;this.store.dispatch(c.Vp.setLanguage({language:n}));const p=this.formGroup.get("wakelock").value;return this.store.dispatch(c.Vp.updateWakeLockEnabled({enabled:p})),this.router.navigate([""]),!1}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(s.qu),e.Y36(h.yh),e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(u.F0),e.Y36(l.sK))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-settings"]],decls:26,vars:6,consts:[[1,"flex","basis-full","items-stretch","justify-center","bg-base-300"],[1,"flex","flex-col","basis-full","p-3","sm:p-6","gap-3","sm:gap-12","max-w-4xl",3,"formGroup","submit"],[1,"basis-full","grid","sm:grid-cols-1","md:grid-cols-2","gap-3","sm:gap-12"],["controlName","theme",3,"group"],["controlName","lang",3,"group"],["controlName","wakelock",3,"group"],[1,"form-control","overflow-y-auto"],[1,"label"],["translate","",1,"text-accent"],[1,"bg-base-100","text-base-content","p-3","gap-1","sm:gap-3","rounded-sm"],["translate","",1,"text-sm","md:text-xl","p-3"],["translate","",1,"text-sm","md:text-xl","p-3","hidden","sm:flex","sm:visible"],["translate","",1,"bg-base-100","text-base-content","px-6","py-2","text-xl","sm:text-2xl","md:text-5xl","leading-relaxed"],[1,"flex","w-full","justify-end","items-center","gap-1","sm:gap-3"],["class","text-error text-sm",4,"ngIf"],["translate","","type","button","routerLink","..",1,"btn","btn-ghost","rounded-xl"],["type","submit","translate","",1,"btn","btn-primary","rounded-xl",3,"disabled"],[1,"text-error","text-sm"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"form",1),e.NdJ("submit",function(){return n.saveSettings()}),e.TgZ(2,"div",2)(3,"div"),e._UZ(4,"app-theme-selector",3)(5,"app-language-selector",4)(6,"app-wake-lock-enabled",5),e.qZA(),e.TgZ(7,"div",6)(8,"div",7)(9,"label",8),e._uU(10,"SETTINGS.t1"),e.qZA()(),e.TgZ(11,"div",9)(12,"div",10),e._uU(13," SETTINGS.p1 "),e.qZA(),e.TgZ(14,"div",11),e._uU(15," SETTINGS.p2 "),e.qZA(),e.TgZ(16,"div",10),e._uU(17," SETTINGS.p3 "),e.qZA()(),e.TgZ(18,"div",12),e._uU(19," SETTINGS.p4 "),e.qZA()()(),e.TgZ(20,"footer",13),e.YNc(21,G,2,0,"div",14),e.TgZ(22,"button",15),e._uU(23," BUTTONS.cancel "),e.qZA(),e.TgZ(24,"button",16),e._uU(25," BUTTONS.saveAndClose "),e.qZA()()()()),2&o&&(e.xp6(1),e.Q6J("formGroup",n.formGroup),e.xp6(3),e.Q6J("group",n.formGroup),e.xp6(1),e.Q6J("group",n.formGroup),e.xp6(1),e.Q6J("group",n.formGroup),e.xp6(15),e.Q6J("ngIf",!n.acceptedCookies()),e.xp6(3),e.Q6J("disabled",!1===n.acceptedCookies()||n.formGroup.pristine))},dependencies:[i.O5,s._Y,s.JL,s.sg,u.rH,l.Pi,L,A,E]}),t})()}];var O=a(9507),Q=a(4410);let F=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[i.ez,T.e,s.UX,u.Bz.forChild(U),O.sQ.forFeature([Q.t]),l.aw.forChild({extend:!0})]}),t})()}}]);