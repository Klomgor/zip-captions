"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[944],{4944:(B,g,s)=>{s.r(g),s.d(g,{SettingsModule:()=>F});var i=s(4755),n=s(9401),m=s(4994),T=s(5543),u=s(5855),c=s(8784),S=s(7579),Z=s(4004),f=s(2722),h=s(4056),d=s(8783),p=s(4133),x=s(8603),t=s(2223),l=s(9129),C=s(4367);function A(e,a){if(1&e&&(t.TgZ(0,"option",4),t._uU(1),t.ALo(2,"proper"),t.ALo(3,"translate"),t.qZA()),2&e){const o=a.$implicit;t.Q6J("value",o.value),t.xp6(1),t.Oqu(t.lcZ(2,2,t.lcZ(3,4,"THEMES."+o.key)))}}let N=(()=>{class e{constructor(){this.themes=p.SJ}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-theme-selector"]],inputs:{group:"group",controlName:"controlName"},decls:6,vars:5,consts:[[1,"form-control",3,"formGroup"],["translate","",1,"text-accent","label"],[1,"select","select-lg","mt-1","w-full",3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(o,r){1&o&&(t.TgZ(0,"label",0)(1,"span",1),t._uU(2,"LABELS.theme"),t.qZA(),t.TgZ(3,"select",2),t.YNc(4,A,4,6,"option",3),t.ALo(5,"keyvalue"),t.qZA()()),2&o&&(t.Q6J("formGroup",r.group),t.xp6(3),t.Q6J("formControlName",r.controlName),t.xp6(1),t.Q6J("ngForOf",t.lcZ(5,3,r.themes)))},dependencies:[i.sg,n.YN,n.Kr,n.EJ,n.JJ,n.JL,n.sg,n.u,l.Pi,i.Nd,C.w,l.X$]}),e})();function b(e,a){if(1&e&&(t.TgZ(0,"option",4),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e){const o=a.$implicit;t.Q6J("value",o),t.xp6(1),t.Oqu(t.lcZ(2,2,"LANGUAGES."+o))}}let J=(()=>{class e{constructor(){this.languages=p.D}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-language-selector"]],inputs:{group:"group",controlName:"controlName"},decls:5,vars:3,consts:[[1,"form-control",3,"formGroup"],["translate","",1,"text-accent","label"],[1,"select","select-lg","mt-1","w-full",3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(o,r){1&o&&(t.TgZ(0,"label",0)(1,"span",1),t._uU(2,"LABELS.lang"),t.qZA(),t.TgZ(3,"select",2),t.YNc(4,b,3,4,"option",3),t.qZA()()),2&o&&(t.Q6J("formGroup",r.group),t.xp6(3),t.Q6J("formControlName",r.controlName),t.xp6(1),t.Q6J("ngForOf",r.languages))},dependencies:[i.sg,n.YN,n.Kr,n.EJ,n.JJ,n.JL,n.sg,n.u,l.Pi,l.X$]}),e})();function y(e,a){1&e&&(t.TgZ(0,"div",15),t._uU(1,"You must accept cookies in order to save settings."),t.qZA())}const G=[{path:"",component:(()=>{class e{constructor(o,r,v,Q,O,Y){this.fb=o,this.store=r,this.renderer=v,this.el=Q,this.router=O,this.translate=Y,this.onDestroy$=new S.x,this.currentTheme=(0,u.O4)(this.store.select(d.FS)),this.language=(0,u.O4)(this.store.select(d.BX)),this.formGroup=this.fb.group({theme:this.fb.control(this.currentTheme()),lang:this.fb.control(this.language())}),this.acceptedCookies=(0,u.O4)(this.store.pipe((0,c.Ys)(x.hp),(0,Z.U)(E=>E.cookiesAccepted)))}ngOnInit(){this.acceptedCookies()&&this.store.dispatch(h.q.hideFooter()),this.formGroup.get("theme")?.valueChanges.pipe((0,f.R)(this.onDestroy$)).subscribe(o=>{o&&this.renderer.setAttribute(this.el.nativeElement,"data-theme",o)}),this.formGroup.get("lang")?.valueChanges.pipe((0,f.R)(this.onDestroy$)).subscribe(o=>{o&&this.translate.use(o).subscribe(()=>{})})}ngOnDestroy(){this.formGroup.dirty&&this.translate.use(this.language()),this.store.dispatch(h.q.showFooter()),this.onDestroy$.next()}saveSettings(){const o=this.formGroup.get("theme").value;this.store.dispatch(p.Vp.setTheme({theme:o}));const r=this.formGroup.get("lang").value;this.store.dispatch(p.Vp.setLanguage({language:r})),this.router.navigate([""])}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(n.qu),t.Y36(c.yh),t.Y36(t.Qsj),t.Y36(t.SBq),t.Y36(m.F0),t.Y36(l.sK))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-settings"]],decls:24,vars:5,consts:[[1,"flex","flex-col","basis-full","p-3","sm:p-6","gap-3","sm:gap-12","bg-base-300",3,"formGroup","submit"],[1,"basis-full","grid","sm:grid-cols-1","md:grid-cols-2","gap-3","sm:gap-12"],["controlName","theme",3,"group"],["controlName","lang",3,"group"],[1,"form-control","overflow-y-auto"],[1,"label"],["translate","",1,"text-accent"],[1,"bg-base-100","text-base-content","p-3","gap-1","sm:gap-3","rounded-sm"],["translate","",1,"text-sm","md:text-xl","p-3"],["translate","",1,"text-sm","md:text-xl","p-3","hidden","sm:flex","sm:visible"],["translate","",1,"bg-base-100","text-base-content","px-6","py-2","text-xl","sm:text-2xl","md:text-5xl","leading-relaxed"],[1,"flex","w-full","justify-end","items-center","gap-1","sm:gap-3"],["class","text-error text-sm",4,"ngIf"],["translate","","type","button","routerLink","..",1,"btn","btn-ghost","rounded-xl"],["type","submit","translate","",1,"btn","btn-primary","rounded-xl",3,"disabled"],[1,"text-error","text-sm"]],template:function(o,r){1&o&&(t.TgZ(0,"form",0),t.NdJ("submit",function(){return r.saveSettings()}),t.TgZ(1,"div",1)(2,"div"),t._UZ(3,"app-theme-selector",2)(4,"app-language-selector",3),t.qZA(),t.TgZ(5,"div",4)(6,"div",5)(7,"label",6),t._uU(8,"SETTINGS.t1"),t.qZA()(),t.TgZ(9,"div",7)(10,"div",8),t._uU(11," SETTINGS.p1 "),t.qZA(),t.TgZ(12,"div",9),t._uU(13," SETTINGS.p2 "),t.qZA(),t.TgZ(14,"div",8),t._uU(15," SETTINGS.p3 "),t.qZA()(),t.TgZ(16,"div",10),t._uU(17," SETTINGS.p4 "),t.qZA()()(),t.TgZ(18,"footer",11),t.YNc(19,y,2,0,"div",12),t.TgZ(20,"button",13),t._uU(21," BUTTONS.cancel "),t.qZA(),t.TgZ(22,"button",14),t._uU(23," BUTTONS.saveAndClose "),t.qZA()()()),2&o&&(t.Q6J("formGroup",r.formGroup),t.xp6(3),t.Q6J("group",r.formGroup),t.xp6(1),t.Q6J("group",r.formGroup),t.xp6(15),t.Q6J("ngIf",!r.acceptedCookies()),t.xp6(3),t.Q6J("disabled",!1===r.acceptedCookies()||r.formGroup.pristine))},dependencies:[i.O5,n._Y,n.JL,n.sg,m.rH,l.Pi,N,J]}),e})()}];var L=s(9507),U=s(4410);let F=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[i.ez,T.e,n.UX,m.Bz.forChild(G),L.sQ.forFeature([U.t]),l.aw.forChild({extend:!0})]}),e})()}}]);